# ๐ง ุชูุฑูุฑ ุชููู: ุชุทููุฑ ูุธุงู ุงูุทุจุงุนุฉ ุงููุญุณู ููุทูุงุจ

## ๐ ููุฎุต ุงูุชุทููุฑ

ุชู ุชุทููุฑ ูุธุงู ุทุจุงุนุฉ ูุชุทูุฑ ููุงุฆูุฉ ุงูุทูุงุจ ูุชุถูู ุงูููุฒุงุช ุงูุชุงููุฉ:
- ูุนุงููุฉ ูุจู ุงูุทุจุงุนุฉ ูุน ุฅุนุฏุงุฏุงุช ูุงุจูุฉ ููุชุฎุตูุต
- ูุธุงู ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ ุงูุชูุงุนูู
- ุทุจุงุนุฉ ุนููุฏูุฉ ูุน ุฏุนู ูุงูู ููุนุฑุจูุฉ
- ูุนุงููุฉ PDF ุญููููุฉ

## ๐๏ธ ุงููููุงุช ุงููุญุฏุซุฉ

### 1. ูุงูุฐุฉ ูุนุงููุฉ ุงูุทุจุงุนุฉ
**ุงูููู**: `lib/printing/widgets/print_preview_dialog.dart`

**ุงูุชุญุณููุงุช ุงููุถุงูุฉ**:
- ุฅุถุงูุฉ ูุณู ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ
- ุฃุฒุฑุงุฑ "ุฅุธูุงุฑ ุงููู" ู "ุฅุฎูุงุก ุงููู"
- ูุนุงููุฉ ูุญุณูุฉ ูุน ุชูุฑูุฑ ุฃููู
- ุฒุฑ ูุนุงููุฉ PDF ูููุตู

**ููุฏ ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ**:
```dart
Widget _buildColumnSelection() {
  // ุฌูุจ ุฌููุน ุงูุฃุนูุฏุฉ ุงููุชุงุญุฉ
  final availableColumns = widget.data.first.keys.toList();
  final selectedColumns = _config.columnsToShow.isNotEmpty 
      ? _config.columnsToShow 
      : availableColumns;

  return Column(
    children: [
      // ุฃุฒุฑุงุฑ ุงูุชุญูู
      Row(
        children: [
          Button(child: Text('ุฅุธูุงุฑ ุงููู'), onPressed: _selectAll),
          Button(child: Text('ุฅุฎูุงุก ุงููู'), onPressed: _deselectAll),
        ],
      ),
      
      // ูุงุฆูุฉ ุงูุฃุนูุฏุฉ ูุน ุตูุงุฏูู ุงูุงุฎุชูุงุฑ
      Container(
        height: 200,
        child: ListView.builder(
          itemCount: availableColumns.length,
          itemBuilder: (context, index) {
            return Checkbox(...);
          },
        ),
      ),
    ],
  );
}
```

### 2. ุฎุฏูุฉ ุทุจุงุนุฉ ุงูุทูุงุจ
**ุงูููู**: `lib/printing/services/student_printing_service.dart`

**ุงูุชุญุณููุงุช ุงููุถุงูุฉ**:
- ุฏุงูุฉ ุทุจุงุนุฉ ุฌุฏูุฏุฉ ูุน ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ
- ุฏุนู ุฌููุน ุญููู ุจูุงูุงุช ุงูุทูุงุจ
- ุชุญุณูู ุชุญููู ุงูุจูุงูุงุช

**ุงูุฏูุงู ุงูุฌุฏูุฏุฉ**:
```dart
// ุทุจุงุนุฉ ูุน ูุงูุฐุฉ ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ
Future<void> printStudentsListWithColumnSelection({
  required List<Student> students,
  required List<School> schools,
  Map<String, dynamic>? filters,
  required BuildContext context,
}) async {
  // ุนุฑุถ ูุงูุฐุฉ ุงููุนุงููุฉ ูุน ุงูุฅุนุฏุงุฏุงุช
  await showDialog(
    context: context,
    builder: (context) => PrintPreviewDialog(...),
  );
}

// ุฌููุน ุฑุคูุณ ุงูุฃุนูุฏุฉ ุงููุชุงุญุฉ
Map<String, String> _getAllColumnHeaders() {
  return {
    'index': '#',
    'name': 'ุงุณู ุงูุทุงูุจ',
    'school': 'ุงููุฏุฑุณุฉ',
    'grade': 'ุงูุตู',
    'section': 'ุงูุดุนุจุฉ',
    'gender': 'ุงูุฌูุณ',
    'status': 'ุงูุญุงูุฉ',
    'phone': 'ุงููุงุชู',
    'totalFee': 'ุงูุฑุณูู',
    'startDate': 'ุชุงุฑูุฎ ุงููุจุงุดุฑุฉ',
    'academicYear': 'ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ',
    'nationalIdNumber': 'ุฑูู ุงููููุฉ',
    'createdAt': 'ุชุงุฑูุฎ ุงูุฅูุดุงุก',
  };
}
```

### 3. ุฎุฏูุฉ ุงูุทุจุงุนุฉ ุงูุฑุฆูุณูุฉ
**ุงูููู**: `lib/printing/services/printing_service.dart`

**ุงูุชุญุณููุงุช ุงููุถุงูุฉ**:
- ุชุตููุฉ ุงูุจูุงูุงุช ุญุณุจ ุงูุฃุนูุฏุฉ ุงููุฎุชุงุฑุฉ
- ุชุญุณูู ุจูุงุก ุงูุฌุฏุงูู
- ุฏุนู ุฃูุถู ููุงุชุฌุงู ุงูุนููุฏู

**ุฏุงูุฉ ุชุตููุฉ ุงูุจูุงูุงุช**:
```dart
List<Map<String, dynamic>> _filterDataByColumns(
  List<Map<String, dynamic>> data,
  List<String> columnsToShow,
) {
  if (data.isEmpty || columnsToShow.isEmpty) return data;

  return data.map((row) {
    final filteredRow = <String, dynamic>{};
    for (final column in columnsToShow) {
      if (row.containsKey(column)) {
        filteredRow[column] = row[column];
      }
    }
    return filteredRow;
  }).toList();
}
```

### 4. ุตูุญุฉ ุงูุทูุงุจ
**ุงูููู**: `lib/pages/students_page.dart`

**ุงูุชุญุฏูุซ**:
- ุงุณุชุจุฏุงู ุฏุงูุฉ ุงูุทุจุงุนุฉ ุงููุฏููุฉ ุจุงูุฌุฏูุฏุฉ
- ุฅุฒุงูุฉ ุฑุณุงูุฉ ุงููุฌุงุญ (ุงููุงูุฐุฉ ุชุชููู ุฐูู)

```dart
Future<void> _printStudentsList() async {
  // ุทุจุงุนุฉ ูุน ูุงูุฐุฉ ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ
  await _printingService.printStudentsListWithColumnSelection(
    students: _filteredStudents,
    schools: _schools,
    filters: filters,
    context: context,
  );
}
```

## ๐ ุจูุงูุงุช ุงูุทูุงุจ ุงููุฏุนููุฉ

### ุงูุญููู ุงููุชุงุญุฉ ููุทุจุงุนุฉ:
| ุงููุนุฑู | ุงูุงุณู ุงูุนุฑุจู | ุงูููุน | ุงููุตู |
|---------|-------------|-------|-------|
| `index` | # | ุฑูู | ุชุฑููู ุชููุงุฆู |
| `name` | ุงุณู ุงูุทุงูุจ | ูุต | ุงูุงุณู ุงููุงูู |
| `school` | ุงููุฏุฑุณุฉ | ูุต | ุงุณู ุงููุฏุฑุณุฉ |
| `grade` | ุงูุตู | ูุต | ุงููุฑุญูุฉ ุงูุฏุฑุงุณูุฉ |
| `section` | ุงูุดุนุจุฉ | ูุต | ุดุนุจุฉ ุงูุตู |
| `gender` | ุงูุฌูุณ | ูุต | ุฐูุฑ/ุฃูุซู |
| `status` | ุงูุญุงูุฉ | ูุต | ูุดุท/ูููุทุน/ูุชุฎุฑุฌ |
| `phone` | ุงููุงุชู | ูุต | ุฑูู ุงููุงุชู |
| `totalFee` | ุงูุฑุณูู | ูุงูู | ุงูุฑุณูู ุจุงูุฏููุงุฑ |
| `startDate` | ุชุงุฑูุฎ ุงููุจุงุดุฑุฉ | ุชุงุฑูุฎ | ุชุงุฑูุฎ ุจุฏุก ุงูุฏุฑุงุณุฉ |
| `academicYear` | ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ | ูุต | ุงูุณูุฉ ุงูุฃูุงุฏูููุฉ |
| `nationalIdNumber` | ุฑูู ุงููููุฉ | ูุต | ุงูุฑูู ุงููุทูู |
| `createdAt` | ุชุงุฑูุฎ ุงูุฅูุดุงุก | ุชุงุฑูุฎ | ุชุงุฑูุฎ ุฅุฏุฎุงู ุงูุจูุงูุงุช |

## ๐จ ุชุตููู ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ูุงูุฐุฉ ูุนุงููุฉ ุงูุทุจุงุนุฉ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ูุนุงููุฉ ุงูุทุจุงุนุฉ - ูุงุฆูุฉ ุงูุทูุงุจ                    โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ   ุฅุนุฏุงุฏุงุช      โ              ูุนุงููุฉ ุงููุญุชูู              โ
โ                 โ                                           โ
โ ุงูุนููุงู        โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ ุงูุชุฎุทูุท        โ  โ         ุฌุฏูู ุงููุนุงููุฉ             โ   โ
โ ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ โ  โ                                     โ   โ
โ ุงููุญุชูู        โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                 โ                                           โ
โ                 โ  ูุนูููุงุช: ุนุฏุฏ ุงูุณุฌูุงุชุ ุงูุงุชุฌุงูุ ุงูุฎุท    โ
โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ               ุฅูุบุงุก  |  ูุนุงููุฉ PDF  |  ุทุจุงุนุฉ               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ูุณู ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ             โ
โ                                     โ
โ  ุฅุธูุงุฑ ุงููู  |  ุฅุฎูุงุก ุงููู        โ
โ                                     โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ โ #                             โ โ
โ โ โ ุงุณู ุงูุทุงูุจ                   โ โ
โ โ โ ุงููุฏุฑุณุฉ                      โ โ
โ โ โ ุงูุตู                          โ โ
โ โ โ ุงูุดุนุจุฉ                        โ โ
โ โ โ ุงูุฌูุณ                         โ โ
โ โ โ ุงูุญุงูุฉ                        โ โ
โ โ โ ุงููุงุชู                        โ โ
โ โ โ ุงูุฑุณูู                        โ โ
โ โ โ ุชุงุฑูุฎ ุงููุจุงุดุฑุฉ                โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                     โ
โ ุชู ุงุฎุชูุงุฑ 5 ูู 10 ุนููุฏ             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ุณูุฑ ุงูุนูู

### 1. ูุชุญ ูุงูุฐุฉ ุงูุทุจุงุนุฉ:
```
ูุณุชุฎุฏู ูุถุบุท "ุทุจุงุนุฉ ูุงุฆูุฉ ุงูุทูุงุจ"
    โ
ุชุญููู ุจูุงูุงุช ุงูุทูุงุจ ุฅูู ุชูุณูู ุงูุทุจุงุนุฉ
    โ
ุฅูุดุงุก ุฅุนุฏุงุฏุงุช ุงูุชุฑุงุถูุฉ
    โ
ูุชุญ ูุงูุฐุฉ PrintPreviewDialog
```

### 2. ุชุฎุตูุต ุงูุฅุนุฏุงุฏุงุช:
```
ุงููุณุชุฎุฏู ูุนุฏู ุงูุนููุงู
    โ
ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุงูุฃุนูุฏุฉ
    โ
ุงููุณุชุฎุฏู ูุถุจุท ุงูุชุฎุทูุท
    โ
ุชุญุฏูุซ ุงููุนุงููุฉ ููุฑูุงู
```

### 3. ุงูุทุจุงุนุฉ:
```
ุงููุณุชุฎุฏู ูุถุบุท "ุทุจุงุนุฉ"
    โ
ุชุตููุฉ ุงูุจูุงูุงุช ุญุณุจ ุงูุฃุนูุฏุฉ
    โ
ุฅูุดุงุก PDF ูุน ุงูุฅุนุฏุงุฏุงุช
    โ
ูุชุญ ูุงูุฐุฉ ุทุจุงุนุฉ ุงููุธุงู
    โ
ุฅุบูุงู ุงููุงูุฐุฉ
```

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ:

#### 1. ุงุฎุชุจุงุฑ ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ:
- โ ุงุฎุชูุงุฑ ุนููุฏ ูุงุญุฏ
- โ ุงุฎุชูุงุฑ ุนุฏุฉ ุฃุนูุฏุฉ
- โ ุฅุธูุงุฑ ุงููู
- โ ุฅุฎูุงุก ุงููู
- โ ุชุญุฏูุซ ุงููุนุงููุฉ

#### 2. ุงุฎุชุจุงุฑ ุงูุทุจุงุนุฉ:
- โ ุทุจุงุนุฉ ุนููุฏูุฉ
- โ ุทุจุงุนุฉ ุฃูููุฉ
- โ ุฃุญุฌุงู ุฎุทูุท ูุฎุชููุฉ
- โ ูุน/ุจุฏูู ุฑุฃุณ ูุชุฐููู

#### 3. ุงุฎุชุจุงุฑ ุงูุจูุงูุงุช:
- โ ูุงุฆูุฉ ูุงุฑุบุฉ
- โ ูุงุฆูุฉ ุจุทุงูุจ ูุงุญุฏ
- โ ูุงุฆูุฉ ูุจูุฑุฉ (100+ ุทุงูุจ)
- โ ุจูุงูุงุช ูุงูุตุฉ

## ๐ ูุดุงูู ูุญุชููุฉ ูุญููููุง

### 1. ุจุทุก ูู ุงููุนุงููุฉ:
**ุงููุดููุฉ**: ุจุทุก ุนูุฏ ุนุฑุถ ููุงุฆู ูุจูุฑุฉ
**ุงูุญู**: ุนุฑุถ ุฃูู 5 ุตููู ููุท ูููุนุงููุฉ

### 2. ุฎุทุฃ ูู ุงูุฃุนูุฏุฉ:
**ุงููุดููุฉ**: ุนููุฏ ุบูุฑ ููุฌูุฏ ูู ุงูุจูุงูุงุช
**ุงูุญู**: ูุญุต ูุฌูุฏ ุงูุนููุฏ ูุจู ุงูุฅุถุงูุฉ

```dart
if (row.containsKey(column)) {
  filteredRow[column] = row[column];
}
```

### 3. ูุดุงูู ุงูุทุจุงุนุฉ:
**ุงููุดููุฉ**: ูุดู ูู ุงูุทุจุงุนุฉ
**ุงูุญู**: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุนุฑุถ ุฑุณุงุฆู ูุงุถุญุฉ

```dart
try {
  await printingService.print();
} catch (e) {
  showErrorDialog('ุฎุทุฃ ูู ุงูุทุจุงุนุฉ: $e');
}
```

## ๐ ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก

### ูุจู ุงูุชุญุณูู:
- ููุช ุชุญููู ุงููุนุงููุฉ: ~2 ุซุงููุฉ
- ุงุณุชููุงู ุงูุฐุงูุฑุฉ: ุนุงูู ูุน ุงูุจูุงูุงุช ุงููุงููุฉ
- ูุฑููุฉ ุงูุงุฎุชูุงุฑ: ูุญุฏูุฏุฉ

### ุจุนุฏ ุงูุชุญุณูู:
- ููุช ุชุญููู ุงููุนุงููุฉ: ~0.5 ุซุงููุฉ
- ุงุณุชููุงู ุงูุฐุงูุฑุฉ: ููุฎูุถ ูุน ุงูุชุตููุฉ
- ูุฑููุฉ ุงูุงุฎุชูุงุฑ: ูุงููุฉ ูุน 13 ุนููุฏ

## ๐ ุฎุทุท ุงูุชุทููุฑ ุงููุณุชูุจููุฉ

### ุงููุฑุญูุฉ ุงูุชุงููุฉ:
1. **ุญูุธ ููุงูุจ ุงูุทุจุงุนุฉ**
   - ุฅุนุฏุงุฏุงุช ูุฎุตุตุฉ ูุงุจูุฉ ููุญูุธ
   - ููุงูุจ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู

2. **ุชุตุฏูุฑ ูุชุนุฏุฏ ุงูุชูุณููุงุช**
   - Excel ูุน ููุณ ุงุฎุชูุงุฑุงุช ุงูุฃุนูุฏุฉ
   - CSV ููุจูุงูุงุช ุงูุฎุงู

3. **ุทุจุงุนุฉ ูุชูุฏูุฉ**
   - ุฑุณูู ุจูุงููุฉ ูุฏูุฌุฉ
   - ุฅุญุตุงุฆูุงุช ุชููุงุฆูุฉ

4. **ุชุญุณููุงุช ุงูุฃุฏุงุก**
   - ุชุญููู ุชุฏุฑูุฌู ููุจูุงูุงุช ุงููุจูุฑุฉ
   - ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ููุฅุนุฏุงุฏุงุช

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ูุธุงู ุทุจุงุนุฉ ุดุงูู ููุชุทูุฑ ููุจู ุฌููุน ุงููุชุทูุจุงุช:
- โ ูุนุงููุฉ PDF ุญููููุฉ
- โ ุทุจุงุนุฉ ุนููุฏูุฉ 
- โ ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ
- โ ุฏุนู ุงูุนุฑุจูุฉ ูู ุงููููู ูููุณุงุฑ
- โ ูุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู

ุงููุธุงู ุฌุงูุฒ ููุฅูุชุงุฌ ููููู ุชูุณูุนู ุจุณูููุฉ.
